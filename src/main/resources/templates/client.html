<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    <link rel="icon" href="../images/icon.ico" th:href="@{images/icon.ico}"/>

    <title>LAFTech Reports</title>

    <!-- Bootstrap core CSS -->
    <link type="text/css" rel="stylesheet" th:href="@{css/bootstrap.min.css}" media="all"/>

    <!-- Custom styles for this template -->
    <link type="text/css" rel="stylesheet" th:href="@{css/custom.min.css}" media="all"/>    
  </head>

  <body>
  
     <div class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
        	<div>
        		<a th:href="@{/index}"><img th:src="@{images/lafheaderblackbg.png}" src="../images/lafheaderblackbg.png" class="img-responsive" alt="logo"/></a>
    		</div>
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-main">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse" id="navbar-main">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="themes">Reports <span class="caret"></span></a>
              <ul class="dropdown-menu" aria-labelledby="themes">
                <li><a href="#">Create New</a></li>
                <li class="divider"></li>
                <li><a href="#">Update Existing</a></li>
                <li><a href="#">View</a></li>                
              </ul>
            </li>
            <li>
              <a href="#">Help</a>
            </li>            
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
              <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="themes"><label th:inline="text">[[${#httpServletRequest.remoteUser}]]!</label> <span class="caret"></span></a>
              <ul class="dropdown-menu" aria-labelledby="themes">
               	<li><a th:href="@{/logout}">Sign Out</a></li>  
                <li class="divider"></li>  
 	          </ul>
			</li>	
          </ul>
        </div>
      </div>
	</div>
	
	  <div class="container">

      <div class="page-header" id="banner">
        <div class="row">
          <div class="col-lg-8 col-md-7 col-sm-6">
            <h1>Client </h1>            
          </div>          
        </div>
        <div class="row">
         <div class="col-lg-3 col-md-3 col-sm-4">
            <div class="list-group table-of-contents">
              <a class="list-group-item" th:href="@{/index}">LAF Reports</a>
              <a class="list-group-item" th:href="@{/clients}">Clients</a>
              <a class="list-group-item" th:href="@{/equipments}">Equipments</a>
              <a class="list-group-item" th:href="@{/technicians}">Technicians</a>
              <a class="list-group-item" th:href="@{/instruments}">Instruments</a>                          
            </div>
          </div>
          <div class="col-lg-8 col-md-7 col-sm-6">
          	<p class="lead">Search</p>
          </div> 
          <div class="col-lg-4">
          <div class="well bs-component">
              <form class="form-horizontal" th:action="@{/searchbyid}" method="get" enctype="multipart/form-data">
                <fieldset>
          			<legend>Search Client By ID</legend>
          				<div class="form-group">
                    		<label class="control-label" for="focusedInput">Enter Client Id</label>
                    		<input class="form-control" name="clientId" type="text" placeholder="Client Id..." th:required="required"/>                    		
           				</div>
           				<div class="form-group">
                    		<div class="col-lg-10 col-lg-offset-2">
                      			<button type="reset" class="btn btn-default">Cancel</button>
                      			<button type="submit" class="btn btn-primary">Search By ID</button>
                    		</div>
                  		</div>
           			</fieldset>
           		</form>
           	</div>
           	</div>
           
          <div class="col-lg-4">
          <div class="well bs-component">
              <form class="form-horizontal">
                <fieldset>
          			<legend>Search Client By Name</legend>
          				<div class="form-group">
                    		<label class="control-label" for="focusedInput">Enter Client Name</label>
                    		<input class="form-control" name="clientName" type="text" placeholder="Client Name..." th:required="required"/>                    		
           				</div>
           				<div class="form-group">
                    		<div class="col-lg-10 col-lg-offset-2">
                      			<button type="reset" class="btn btn-default">Cancel</button>
                      			<button type="submit" class="btn btn-primary">Search By Name</button>
                    		</div>
                  		</div>
           			</fieldset>
           		</form>
           	</div>           	
          </div>          
        </div>
        </div>
        <div th:if="${message != null}">
        <div class="col-lg-4">
            <div class="bs-component">
              <div class="alert alert-dismissible alert-success">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                <b th:text="${message}"/>
              </div>
            </div>
		</div>
		</div>
        <div class="bs-docs-section">
        <div class="row">
          <div class="col-lg-12">
            <div class="page-header">
              <h1 id="forms">Client</h1>
            </div>
          </div>
        </div>
        </div>
        <div class="row">
          <div class="col-lg-12">
            <div class="well bs-component">
            <legend>Client Details</legend>          
			<table class="table table-striped table-hover">
				<tr>
					<th>Client ID</th>
					<th>Client Name</th>					
					<th>Client Contact Person</th>
					<th>Client Phone</th>
					<th>Client Email</th>
				</tr>
				<tr>
					<td th:text="${client.clientId}"></td>
					<td th:text="${client.clientName}"></td>								
					<td th:text="${client.clientContactPersonName}"></td>
					<td th:text="${client.clientPhone}"></td>
					<td th:text="${client.clientEmail}"></td>
				</tr>
			</table>
			
            </div>
           </div>
           <!-- display list of departments -->
           <div class="col-lg-12">
            <div class="well bs-component">
            <legend>Departments</legend>          
			<table class="table table-striped table-hover">
				<tr>
					<th>Name</th>
					<th>Location</th>					
					<th>Lab Manager</th>
					<th>Address</th>	
					<th></th>				
				</tr>
				<tr th:each="department : ${client.departments}">
					<td th:text="${department.departmentId.departmentName}"></td>
					<td th:text="${department.departmentId.departmentLocation}"></td>								
					<td th:text="${department.labManager}"></td>
					<td th:text="${department.departmentAddress}"></td>
					<td>
						<a th:href="@{department/{departmentId}(departmentId=${department.departmentId.departmentName+'*'+department.departmentId.departmentLocation})}">view</a>
					</td>					
				</tr>
			</table>
			
            </div>
           </div>
          </div>
        <div class="bs-docs-section">        
        <div class="row">
        <div th:if="${message != null}">
        <div class="col-lg-12">          
        </div>
		</div>
          <div class="col-lg-12">
            <div class="page-header">
              <h1 id="forms">Add New Department</h1>
            </div>
          </div>
        </div>		
        <div class="row">
          <div class="col-lg-6">
            <div class="well bs-component">
              <form class="form-horizontal" th:action="@{/addnewdepartment/{clientId}(clientId=${client.clientId})}" method="post" enctype="multipart/form-data">
                <fieldset>
                  <legend>New Department</legend>
                  <div class="form-group">
                    <label class="control-label" for="focusedInput">Department Name</label>
                    <input class="form-control" name="departmentName" type="text" placeholder="Department Name..." th:required="required"/>
                  </div>
                  <div class="form-group">
                    <label class="control-label" for="focusedInput">Location</label>
                    <input class="form-control" name="departmentLocation" type="text" placeholder="Department Location..." th:required="required"/>
                  </div>                  
                  <div class="form-group">
                    <label class="control-label" for="focusedInput">Lab Manager</label>
                    <input class="form-control" name="labManager" type="text" placeholder="Lab Manager..."/>
                  </div>
                  <div class="form-group">
                    <label class="control-label" for="focusedInput">Address</label>
                    <input class="form-control" name="departmentAddress" type="text" placeholder="Department Address..."/>
                  </div>                        
                                  
                  <div class="form-group">
                    <div class="col-lg-10 col-lg-offset-2">
                      <button type="reset" class="btn btn-default">Cancel</button>
                      <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                  </div>
                </fieldset>
              </form>
            </div>
            </div>
           </div>
		</div>
	</div>

    

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js}"></script>    
    <script th:src="@{js/bootstrap.min.js}" src="../js/bootstrap.min.js"></script> 
    <script th:src="@{js/custom.js}" src="../js/custom.js"></script>   
  </body>
</html>